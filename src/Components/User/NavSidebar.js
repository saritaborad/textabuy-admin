import React, { useContext, useEffect, useState } from "react";
import { useLocation, useNavigate } from "react-router";
import { Link } from "react-router-dom";
import Context from "../../contexts/context";

export default function NavSidebar() {
	const context = useContext(Context);
	const Navigate = useNavigate();
	const location = useLocation();
	const [role, setrole] = useState(6);

	useEffect(() => {
		let Role = context.role
		if (Role !== undefined && Role !== null) {
			setrole(Role)
		}
	}, []);

	const handleLogout = () => {
		localStorage.removeItem("admin-token");
		Navigate("/login");
	};

	return (
		<div className="sidebar-main-section">
			<div className="sidebar-main-section-inner">
				<ul className="sidebar-main-inner-menu">
					<li>
						<Link to="/dashboard" className={location.pathname === "/dashboard" ? "active" : ""}>
							<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path fillRule="evenodd" clipRule="evenodd" d="M0 8H8V18H0V8ZM2 10H6V16H2V10Z" fill="#605B6A" />
								<path fillRule="evenodd" clipRule="evenodd" d="M10 0H18V10H10V0ZM12 2H16V8H12V2Z" fill="#605B6A" />
								<path fillRule="evenodd" clipRule="evenodd" d="M10 12H18V18H10V12ZM12 14H16V16H12V14Z" fill="#605B6A" />
								<path fillRule="evenodd" clipRule="evenodd" d="M0 0H8V6H0V0ZM2 2H6V4H2V2Z" fill="#605B6A" />
							</svg>
							<span>Dashboard</span>
						</Link>
					</li>
					<li>
						<Link to="/textCampaignVendors" className={location.pathname === "/textCampaignVendors" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M9 9H7V11H9V9Z" fill="#605B6A" />
								<path d="M11 9H13V11H11V9Z" fill="#605B6A" />
								<path d="M17 9H15V11H17V9Z" fill="#605B6A" />
								<path d="M3 5V21L7.8 17.4C8.14582 17.1396 8.56713 16.9992 9 17H19C20.1046 17 21 16.1046 21 15V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5ZM5 17V5H19V15H8.334C7.90107 14.9988 7.47964 15.1393 7.134 15.4L5 17Z" fill="#605B6A" />
							</svg>
							<span>Text Campaign</span>
						</Link>
					</li>
					<li>
						<Link to="/emailCampaignVendors" className={location.pathname === "/emailCampaignVendors" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M20 22H4C2.89543 22 2 21.1046 2 20V9.049C2.03375 8.37786 2.39728 7.76686 2.971 7.41699L10.971 2.61699C11.6041 2.23737 12.3949 2.23737 13.028 2.61699L21.028 7.41699C21.6292 7.77977 21.9976 8.42984 22 9.13199V20C22 21.1046 21.1046 22 20 22ZM4 9.86799V20H20V9.86799L12 15.201L4 9.86799ZM12 4.33199L5.316 8.34199L12 12.798L18.683 8.34199L12 4.33199Z" fill="#605B6A" />
							</svg>
							<span>Email Campaign</span>
						</Link>
					</li>
					{role !== 3 && <li>
						<Link to="/sub-admin" className={location.pathname === "/sub-admin" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M9 4C9 6.20914 7.20914 8 5 8C2.79086 8 1 6.20914 1 4C1 1.79086 2.79086 0 5 0C7.20914 0 9 1.79086 9 4ZM7 4C7 2.89543 6.10457 2 5 2C3.89543 2 3 2.89543 3 4C3 5.10457 3.89543 6 5 6C6.10457 6 7 5.10457 7 4Z" fill="#605B6A" />
								<path d="M19 8.5C19 10.433 17.433 12 15.5 12C13.567 12 12 10.433 12 8.5C12 6.567 13.567 5 15.5 5C17.433 5 19 6.567 19 8.5ZM17 8.5C17 7.67157 16.3284 7 15.5 7C14.6716 7 14 7.67157 14 8.5C14 9.32843 14.6716 10 15.5 10C16.3284 10 17 9.32843 17 8.5Z" fill="#605B6A" />
								<path d="M8 18V14C8 12.3431 6.65685 11 5 11C3.34315 11 2 12.3431 2 14V18H0V14C0 11.2386 2.23858 9 5 9C7.76142 9 10 11.2386 10 14V18H8Z" fill="#605B6A" />
								<path d="M18 17.5V18H20V17.5C20 15.0147 17.9853 13 15.5 13C13.0147 13 11 15.0147 11 17.5V18H13V17.5C13 16.1193 14.1193 15 15.5 15C16.8807 15 18 16.1193 18 17.5Z" fill="#605B6A" />
							</svg>
							<span>Sub Admin</span>
						</Link>
					</li>}
					<li>
						<Link to="/customerCampaignVendors" className={location.pathname === "/customerCampaignVendors" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M9 3C6.23858 3 4 5.23858 4 8C4 10.7614 6.23858 13 9 13C11.7614 13 14 10.7614 14 8C14 5.23858 11.7614 3 9 3ZM6 8C6 6.34315 7.34315 5 9 5C10.6569 5 12 6.34315 12 8C12 9.65685 10.6569 11 9 11C7.34315 11 6 9.65685 6 8Z" fill="#605B6A" />
								<path d="M16.9084 8.21828C16.6271 8.07484 16.3158 8.00006 16 8.00006V6.00006C16.6316 6.00006 17.2542 6.14956 17.8169 6.43645C17.8789 6.46805 17.9399 6.50121 18 6.5359C18.4854 6.81614 18.9072 7.19569 19.2373 7.65055C19.6083 8.16172 19.8529 8.75347 19.9512 9.37737C20.0496 10.0013 19.9987 10.6396 19.8029 11.2401C19.6071 11.8405 19.2719 12.3861 18.8247 12.8321C18.3775 13.2782 17.8311 13.6119 17.2301 13.8062C16.6953 13.979 16.1308 14.037 15.5735 13.9772C15.5046 13.9698 15.4357 13.9606 15.367 13.9496C14.7438 13.8497 14.1531 13.6038 13.6431 13.2319L13.6421 13.2311L14.821 11.6156C15.0761 11.8017 15.3717 11.9248 15.6835 11.9747C15.9953 12.0247 16.3145 12.0001 16.615 11.903C16.9155 11.8059 17.1887 11.639 17.4123 11.416C17.6359 11.193 17.8035 10.9202 17.9014 10.62C17.9993 10.3198 18.0247 10.0006 17.9756 9.68869C17.9264 9.37675 17.8041 9.08089 17.6186 8.82531C17.4331 8.56974 17.1898 8.36172 16.9084 8.21828Z" fill="#605B6A" />
								<path d="M19.9981 21C19.9981 20.475 19.8947 19.9551 19.6938 19.47C19.4928 18.9849 19.1983 18.5442 18.8271 18.1729C18.4558 17.8017 18.0151 17.5072 17.53 17.3062C17.0449 17.1053 16.525 17.0019 16 17.0019V15C16.6821 15 17.3584 15.1163 18 15.3431C18.0996 15.3783 18.1983 15.4162 18.2961 15.4567C19.0241 15.7583 19.6855 16.2002 20.2426 16.7574C20.7998 17.3145 21.2417 17.9759 21.5433 18.7039C21.5838 18.8017 21.6216 18.9004 21.6569 19C21.8837 19.6416 22 20.3179 22 21H19.9981Z" fill="#605B6A" />
								<path d="M16 21H14C14 18.2386 11.7614 16 9 16C6.23858 16 4 18.2386 4 21H2C2 17.134 5.13401 14 9 14C12.866 14 16 17.134 16 21Z" fill="#605B6A" />
							</svg>
							<span>Customers</span>
						</Link>
					</li>
					<li>
						<Link to="/vendor-list" className={location.pathname === "/vendor-list" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M10 12C12.2091 12 14 10.2091 14 8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8C6 10.2091 7.79086 12 10 12ZM10 6C11.1046 6 12 6.89543 12 8C12 9.10457 11.1046 10 10 10C8.89543 10 8 9.10457 8 8C8 6.89543 8.89543 6 10 6Z" fill="#605B6A" />
								<path d="M2 20C0.895431 20 0 19.1046 0 18V2C0 0.895431 0.895431 0 2 0H18C19.1046 0 20 0.895431 20 2V18C20 19.1046 19.1046 20 18 20H2ZM2 2V18H5C5 15.2386 7.23858 13 10 13C12.7614 13 15 15.2386 15 18H18V2H2ZM13 18C13 16.3431 11.6569 15 10 15C8.34315 15 7 16.3431 7 18H13Z" fill="#605B6A" />
							</svg>
							<span>Vendor List</span>
						</Link>
					</li>
					<li>
						<Link to="/inquiry" className={location.pathname === "/inquiry" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M20 19.9999H4C2.93052 20.0319 2.03642 19.1933 2 18.1239V5.87494C2.03641 4.80575 2.93068 3.96737 4 3.99994H20C21.0693 3.96737 21.9636 4.80575 22 5.87494V18.1249C21.963 19.1939 21.0691 20.032 20 19.9999ZM4 5.99994V17.9889L20 17.9999V6.01094L4 5.99994ZM13.43 15.9999H6C6.07353 15.172 6.46534 14.4049 7.093 13.8599C7.79183 13.1667 8.73081 12.7691 9.715 12.7499C10.6992 12.7691 11.6382 13.1667 12.337 13.8599C12.9645 14.405 13.3563 15.1721 13.43 15.9999ZM18 14.9999H15V12.9999H18V14.9999ZM9.715 11.9999C9.17907 12.0186 8.65947 11.8138 8.28029 11.4347C7.9011 11.0555 7.69638 10.5359 7.715 9.99994C7.69668 9.4641 7.9015 8.94468 8.28062 8.56556C8.65974 8.18644 9.17916 7.98162 9.715 7.99994C10.2508 7.98162 10.7703 8.18644 11.1494 8.56556C11.5285 8.94468 11.7333 9.4641 11.715 9.99994C11.7336 10.5359 11.5289 11.0555 11.1497 11.4347C10.7705 11.8138 10.2509 12.0186 9.715 11.9999ZM18 10.9999H14V8.99994H18V10.9999Z" fill="#605B6A" />
							</svg>
							<span>Support</span>
						</Link>
					</li>
					<li>
						<Link to="/billings" className={location.pathname === "/billings" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M19.5 3.5L18 2L16.5 3.5L15 2L13.5 3.5L12 2L10.5 3.5L9 2L7.5 3.5L6 2V16H3V19C3 20.66 4.34 22 6 22H18C19.66 22 21 20.66 21 19V2L19.5 3.5ZM15 20H6C5.45 20 5 19.55 5 19V18H15V20ZM19 19C19 19.55 18.55 20 18 20C17.45 20 17 19.55 17 19V16H8V5H19V19Z" fill="#605B6A" />
								<path d="M15 7H9V9H15V7Z" fill="#605B6A" />
								<path d="M18 7H16V9H18V7Z" fill="#605B6A" />
								<path d="M15 10H9V12H15V10Z" fill="#605B6A" />
								<path d="M18 10H16V12H18V10Z" fill="#605B6A" />
							</svg>
							<span>Customer Billings</span>
						</Link>
					</li>
					<li>
						<Link to="/settings" className={location.pathname === "/settings" ? "active" : ""}>
							<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M11.82 20H8.17998C7.71009 20 7.30353 19.673 7.20298 19.214L6.79598 17.33C6.25303 17.0921 5.7382 16.7946 5.26098 16.443L3.42398 17.028C2.97598 17.1709 2.48897 16.9823 2.25398 16.575L0.429979 13.424C0.197567 13.0165 0.277638 12.5025 0.622979 12.185L2.04798 10.885C1.98318 10.2961 1.98318 9.70189 2.04798 9.113L0.622979 7.816C0.277129 7.49837 0.197027 6.98372 0.429979 6.576L2.24998 3.423C2.48497 3.0157 2.97198 2.82714 3.41998 2.97L5.25698 3.555C5.50104 3.37416 5.75511 3.20722 6.01798 3.055C6.27032 2.91269 6.53002 2.78385 6.79598 2.669L7.20398 0.787C7.30405 0.327969 7.71017 0.000494393 8.17998 0H11.82C12.2898 0.000494393 12.6959 0.327969 12.796 0.787L13.208 2.67C13.4888 2.79352 13.7622 2.93308 14.027 3.088C14.2739 3.23081 14.5126 3.38739 14.742 3.557L16.58 2.972C17.0277 2.82967 17.5141 3.01816 17.749 3.425L19.569 6.578C19.8014 6.98548 19.7213 7.49951 19.376 7.817L17.951 9.117C18.0158 9.70589 18.0158 10.3001 17.951 10.889L19.376 12.189C19.7213 12.5065 19.8014 13.0205 19.569 13.428L17.749 16.581C17.5141 16.9878 17.0277 17.1763 16.58 17.034L14.742 16.449C14.5094 16.6203 14.2677 16.7789 14.018 16.924C13.7558 17.0759 13.4854 17.2131 13.208 17.335L12.796 19.214C12.6955 19.6726 12.2895 19.9996 11.82 20ZM5.61998 14.229L6.43998 14.829C6.62483 14.9652 6.81749 15.0904 7.01698 15.204C7.20468 15.3127 7.39795 15.4115 7.59598 15.5L8.52898 15.909L8.98598 18H11.016L11.473 15.908L12.406 15.499C12.8133 15.3194 13.1999 15.0961 13.559 14.833L14.38 14.233L16.421 14.883L17.436 13.125L15.853 11.682L15.965 10.67C16.0142 10.2274 16.0142 9.78064 15.965 9.338L15.853 8.326L17.437 6.88L16.421 5.121L14.38 5.771L13.559 5.171C13.1998 4.90671 12.8132 4.68175 12.406 4.5L11.473 4.091L11.016 2H8.98598L8.52698 4.092L7.59598 4.5C7.39779 4.58704 7.2045 4.68486 7.01698 4.793C6.81872 4.90633 6.62707 5.03086 6.44298 5.166L5.62198 5.766L3.58198 5.116L2.56498 6.88L4.14798 8.321L4.03598 9.334C3.98678 9.77664 3.98678 10.2234 4.03598 10.666L4.14798 11.678L2.56498 13.121L3.57998 14.879L5.61998 14.229ZM9.99598 14C7.78684 14 5.99598 12.2091 5.99598 10C5.99598 7.79086 7.78684 6 9.99598 6C12.2051 6 13.996 7.79086 13.996 10C13.9932 12.208 12.204 13.9972 9.99598 14ZM9.99598 8C8.90337 8.00111 8.01387 8.87885 7.99821 9.97134C7.98255 11.0638 8.84654 11.9667 9.93867 11.9991C11.0308 12.0315 11.9468 11.1815 11.996 10.09V10.49V10C11.996 8.89543 11.1005 8 9.99598 8Z" fill="#605B6A" />
							</svg>
							<span>Settings</span>
						</Link>
					</li>
				</ul>
				<div className="sidebar-log-fix">
					<button type="button" className="border-0 bg-transparent" onClick={handleLogout}>
						<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M19.5558 0H2.44421C1.79597 0 1.17427 0.257515 0.715894 0.715894C0.257515 1.17427 0 1.79597 0 2.44421L0 7.33368H2.44421V2.44421H19.5558V19.5558H2.44421V14.6674H0V19.5558C0 20.204 0.257515 20.8257 0.715894 21.2841C1.17427 21.7425 1.79597 22 2.44421 22H19.5558C20.204 22 20.8257 21.7425 21.2841 21.2841C21.7425 20.8257 22 20.204 22 19.5558V2.44421C22 1.79597 21.7425 1.17427 21.2841 0.715894C20.8257 0.257515 20.204 0 19.5558 0V0Z" fill="#1081E8" />
							<path d="M8.65974 15.3823L10.3892 17.1118L16.5003 11.0007L10.3892 4.88965L8.65974 6.61911L11.8187 9.77911H0V12.2233H11.8187L8.65974 15.3823Z" fill="#1081E8" />
						</svg>
						<span className="ps-3">Log Out</span>
					</button>
				</div>
			</div>
		</div>
	);
}
